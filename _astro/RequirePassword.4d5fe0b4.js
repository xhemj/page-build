import{w as L,v as U}from"./runtime-dom.esm-bundler.ce2df2a6.js";import{_ as M}from"./_plugin-vue_export-helper.c27b6911.js";import{r as q,c as V,a as x,w as N,o as G}from"./runtime-core.esm-bundler.0e5f3ad0.js";var A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function J(u){if(u.__esModule)return u;var w=u.default;if(typeof w=="function"){var l=function i(){if(this instanceof i){var d=[null];d.push.apply(d,arguments);var s=Function.bind.apply(w,d);return new s}return w.apply(this,arguments)};l.prototype=w.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(u).forEach(function(i){var d=Object.getOwnPropertyDescriptor(u,i);Object.defineProperty(l,i,d.get?d:{enumerable:!0,get:function(){return u[i]}})}),l}var E={exports:{}};function Q(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var O={exports:{}};const X={},Y=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"})),Z=J(Y);var z;function tt(){return z||(z=1,function(u,w){(function(l,i){u.exports=i()})(A,function(){var l=l||function(i,d){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof A<"u"&&A.crypto&&(s=A.crypto),!s&&typeof Q=="function")try{s=Z}catch{}var m=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},C=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),H={},S=H.lib={},b=S.Base=function(){return{extend:function(t){var e=C(this);return t&&e.mixIn(t),(!e.hasOwnProperty("init")||this.init===e.init)&&(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),v=S.WordArray=b.extend({init:function(t,e){t=this.words=t||[],e!=d?this.sigBytes=e:this.sigBytes=t.length*4},toString:function(t){return(t||_).stringify(this)},concat:function(t){var e=this.words,r=t.words,o=this.sigBytes,c=t.sigBytes;if(this.clamp(),o%4)for(var f=0;f<c;f++){var p=r[f>>>2]>>>24-f%4*8&255;e[o+f>>>2]|=p<<24-(o+f)%4*8}else for(var h=0;h<c;h+=4)e[o+h>>>2]=r[h>>>2];return this.sigBytes+=c,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=i.ceil(e/4)},clone:function(){var t=b.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(m());return new v.init(e,t)}}),P=H.enc={},_=P.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,o=[],c=0;c<r;c++){var f=e[c>>>2]>>>24-c%4*8&255;o.push((f>>>4).toString(16)),o.push((f&15).toString(16))}return o.join("")},parse:function(t){for(var e=t.length,r=[],o=0;o<e;o+=2)r[o>>>3]|=parseInt(t.substr(o,2),16)<<24-o%8*4;return new v.init(r,e/2)}},g=P.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,o=[],c=0;c<r;c++){var f=e[c>>>2]>>>24-c%4*8&255;o.push(String.fromCharCode(f))}return o.join("")},parse:function(t){for(var e=t.length,r=[],o=0;o<e;o++)r[o>>>2]|=(t.charCodeAt(o)&255)<<24-o%4*8;return new v.init(r,e)}},n=P.Utf8={stringify:function(t){try{return decodeURIComponent(escape(g.stringify(t)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(t){return g.parse(unescape(encodeURIComponent(t)))}},a=S.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(t){typeof t=="string"&&(t=n.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e,r=this._data,o=r.words,c=r.sigBytes,f=this.blockSize,p=f*4,h=c/p;t?h=i.ceil(h):h=i.max((h|0)-this._minBufferSize,0);var R=h*f,B=i.min(R*4,c);if(R){for(var j=0;j<R;j+=f)this._doProcessBlock(o,j);e=o.splice(0,R),r.sigBytes-=B}return new v.init(e,B)},clone:function(){var t=b.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});S.Hasher=a.extend({cfg:b.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){a.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new y.HMAC.init(t,r).finalize(e)}}});var y=H.algo={};return H}(Math);return l})}(O)),O.exports}(function(u,w){(function(l,i){u.exports=i(tt())})(A,function(l){return function(i){var d=l,s=d.lib,m=s.WordArray,C=s.Hasher,H=d.algo,S=[],b=[];(function(){function _(y){for(var t=i.sqrt(y),e=2;e<=t;e++)if(!(y%e))return!1;return!0}function g(y){return(y-(y|0))*4294967296|0}for(var n=2,a=0;a<64;)_(n)&&(a<8&&(S[a]=g(i.pow(n,1/2))),b[a]=g(i.pow(n,1/3)),a++),n++})();var v=[],P=H.SHA256=C.extend({_doReset:function(){this._hash=new m.init(S.slice(0))},_doProcessBlock:function(_,g){for(var n=this._hash.words,a=n[0],y=n[1],t=n[2],e=n[3],r=n[4],o=n[5],c=n[6],f=n[7],p=0;p<64;p++){if(p<16)v[p]=_[g+p]|0;else{var h=v[p-15],R=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,B=v[p-2],j=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;v[p]=R+v[p-7]+j+v[p-16]}var T=r&o^~r&c,$=a&y^a&t^y&t,D=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),F=(r<<26|r>>>6)^(r<<21|r>>>11)^(r<<7|r>>>25),k=f+F+T+b[p]+v[p],I=D+$;f=c,c=o,o=r,r=e+k|0,e=t,t=y,y=a,a=k+I|0}n[0]=n[0]+a|0,n[1]=n[1]+y|0,n[2]=n[2]+t|0,n[3]=n[3]+e|0,n[4]=n[4]+r|0,n[5]=n[5]+o|0,n[6]=n[6]+c|0,n[7]=n[7]+f|0},_doFinalize:function(){var _=this._data,g=_.words,n=this._nDataBytes*8,a=_.sigBytes*8;return g[a>>>5]|=128<<24-a%32,g[(a+64>>>9<<4)+14]=i.floor(n/4294967296),g[(a+64>>>9<<4)+15]=n,_.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var _=C.clone.call(this);return _._hash=this._hash.clone(),_}});d.SHA256=C._createHelper(P),d.HmacSHA256=C._createHmacHelper(P)}(Math),l.SHA256})})(E);var et=E.exports;const W=K(et),rt={__name:"RequirePassword",setup(u,{expose:w}){w();const l=q(""),d={input:l,onSubmit:()=>{const s=W(String(l.value)).toString();if(s){console.log(s);const m=window.location.pathname;m.endsWith("/")?location.pathname=`${m}${s}/`:location.pathname=`${m}/${s}/`}},get SHA256(){return W},ref:q};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},nt={class:"absolute top-0 left-0 right-0 bottom-0 min-h-screen bg-base-200"},ot={class:"hero h-[75vh]"},it={class:"hero-content text-center"},st={class:"max-w-md"},at=x("div",{class:"text-3xl font-bold"},"🔒 页面已加密",-1),ct=x("p",{class:"mt-2 mb-4 text-base text-gray-400"},"请输入密码以继续查看",-1),ut=["onSubmit"];function ft(u,w,l,i,d,s){return G(),V("div",nt,[x("div",ot,[x("div",it,[x("div",st,[at,ct,x("form",{class:"join",onSubmit:L(i.onSubmit,["prevent"])},[N(x("input",{"onUpdate:modelValue":w[0]||(w[0]=m=>i.input=m),type:"password",placeholder:"请输入密码",class:"input w-full max-w-xs join-item"},null,512),[[U,i.input]]),x("button",{class:"btn btn-active btn-outline join-item",onClick:i.onSubmit}," 提交 ")],40,ut)])])])])}const ht=M(rt,[["render",ft]]);export{ht as default};
